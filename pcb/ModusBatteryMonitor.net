(export (version D)
  (design
    (source /Users/ieb/timefields/PlatformIO/Projects/ModbusShunt/pcb/ModusBatteryMonitor.sch)
    (date "Sunday, 01 January 2023 'amt' 11:02:26")
    (tool "Eeschema 4.0.6")
    (sheet (number 1) (name /) (tstamps /)
      (title_block
        (title)
        (company)
        (rev)
        (date)
        (source ModusBatteryMonitor.sch)
        (comment (number 1) (value ""))
        (comment (number 2) (value ""))
        (comment (number 3) (value ""))
        (comment (number 4) (value "")))))
  (components
    (comp (ref IC102)
      (value MAX485/3485)
      (footprint Housings_SOIC:SOIC-8_3.9x4.9mm_Pitch1.27mm)
      (libsource (lib interface) (part MAX485/3485))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F8EE93))
    (comp (ref U102)
      (value INA219-module)
      (footprint Divers:INA219Module)
      (libsource (lib interface) (part INA219-module))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F8F2F5))
    (comp (ref IC101)
      (value ATTINY3224-SS)
      (footprint Housings_SOIC:SOIC-14_3.9x8.7mm_Pitch1.27mm)
      (libsource (lib atmel) (part ATTINY3224-SS))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F8F322))
    (comp (ref R102)
      (value 10K)
      (footprint Resistors_SMD:R_0805)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F8F813))
    (comp (ref R103)
      (value 10K)
      (footprint Resistors_SMD:R_0805)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F8F89A))
    (comp (ref C102)
      (value 10uF)
      (footprint Capacitors_SMD:C_0805)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F8F8E4))
    (comp (ref C103)
      (value 100nF)
      (footprint Capacitors_SMD:C_0805)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F8F962))
    (comp (ref P104)
      (value DEBUG)
      (footprint Pin_Headers:Pin_Header_Straight_1x05)
      (libsource (lib conn) (part CONN_5))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F8FA97))
    (comp (ref R101)
      (value 270R)
      (footprint Resistors_SMD:R_0805)
      (libsource (lib device) (part R))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F8FC80))
    (comp (ref P101)
      (value RS485)
      (footprint Divers:Wago250PushSocket5way)
      (libsource (lib conn) (part CONN_5))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F900B5))
    (comp (ref P102)
      (value NTC1)
      (footprint Pin_Headers:Pin_Header_Straight_1x02)
      (libsource (lib conn) (part CONN_2))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F9028E))
    (comp (ref P103)
      (value NTC2)
      (footprint Pin_Headers:Pin_Header_Straight_1x02)
      (libsource (lib conn) (part CONN_2))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F90323))
    (comp (ref U101)
      (value NCP1117ST50T3G)
      (footprint TO_SOT_Packages_SMD:SOT-223-3Lead_TabPin2)
      (libsource (lib regul) (part NCP1117ST50T3G))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F906EF))
    (comp (ref C101)
      (value 1uF)
      (footprint Capacitors_SMD:C_1206)
      (libsource (lib device) (part C))
      (sheetpath (names /) (tstamps /))
      (tstamp 62F9089E))
    (comp (ref P105)
      (value SHUNT+)
      (footprint Divers:M5Bolt)
      (libsource (lib conn) (part CONN_1))
      (sheetpath (names /) (tstamps /))
      (tstamp 63A03BF9))
    (comp (ref P106)
      (value SHUNT-)
      (footprint Divers:M5Bolt)
      (libsource (lib conn) (part CONN_1))
      (sheetpath (names /) (tstamps /))
      (tstamp 63A03C64))
    (comp (ref P107)
      (value BAT-)
      (footprint Pin_Headers:Pin_Header_Straight_1x01)
      (libsource (lib conn) (part CONN_1))
      (sheetpath (names /) (tstamps /))
      (tstamp 63A03D21)))
  (libparts
    (libpart (lib atmel) (part ATTINY3224-SS)
      (description "ATTINY3224, SOIC14, 32k Flash, 3K SRAM, 256B EEPROM, dW")
      (docs https://www.farnell.com/datasheets/3622657.pdf)
      (footprints
        (fp SOIC14))
      (fields
        (field (name Reference) IC)
        (field (name Value) ATTINY3224-SS)
        (field (name Footprint) SO14))
      (pins
        (pin (num 1) (name VCC) (type power_in))
        (pin (num 2) (name "PA4(AIN4/XDIR/SS)") (type BiDi))
        (pin (num 3) (name "PA5(AIN5/OUT)") (type BiDi))
        (pin (num 4) (name "PA6(AIN6)") (type BiDi))
        (pin (num 5) (name "PA7(AIN7/EVOUTA)") (type BiDi))
        (pin (num 6) (name "PB3(RX0/TOSC1)") (type BiDi))
        (pin (num 7) (name "PB2(Tx0/TOSC2/EVOUTB)") (type BiDi))
        (pin (num 8) (name "(AIN10/SDA)PB1") (type BiDi))
        (pin (num 9) (name "(AIN11/SCL)PB0") (type BiDi))
        (pin (num 10) (name "(UDPI/RESET)_PA0") (type BiDi))
        (pin (num 11) (name "(TX1/MOSI/AIN1)PA1") (type BiDi))
        (pin (num 12) (name "(RX1/MISO/AIN2)PA2") (type BiDi))
        (pin (num 13) (name "(XCK/SCK/AIN3)PA3") (type BiDi))
        (pin (num 14) (name GND) (type power_in))))
    (libpart (lib device) (part C)
      (description "Condensateur non polarise")
      (footprints
        (fp SM*)
        (fp C?)
        (fp C1-1))
      (fields
        (field (name Reference) C)
        (field (name Value) C))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib conn) (part CONN_1)
      (description "1 pin")
      (fields
        (field (name Reference) P)
        (field (name Value) CONN_1))
      (pins
        (pin (num 1) (name 1) (type passive))))
    (libpart (lib conn) (part CONN_2)
      (description "Symbole general de connecteur")
      (fields
        (field (name Reference) P)
        (field (name Value) CONN_2))
      (pins
        (pin (num 1) (name P1) (type passive))
        (pin (num 2) (name PM) (type passive))))
    (libpart (lib conn) (part CONN_5)
      (description "Symbole general de connecteur")
      (fields
        (field (name Reference) P)
        (field (name Value) CONN_5))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))
        (pin (num 3) (name ~) (type passive))
        (pin (num 4) (name ~) (type passive))
        (pin (num 5) (name ~) (type passive))))
    (libpart (lib interface) (part INA219-module)
      (fields
        (field (name Reference) U)
        (field (name Value) INA219-module))
      (pins
        (pin (num 1) (name Vcc) (type input))
        (pin (num 2) (name GND) (type input))
        (pin (num 3) (name SCL) (type input))
        (pin (num 4) (name SDA) (type input))
        (pin (num 5) (name IN-) (type input))
        (pin (num 6) (name IN+) (type input))))
    (libpart (lib interface) (part MAX485/3485)
      (description "MAX485/3585, RS-485 Driver, PDIP8")
      (docs https://datasheets.maximintegrated.com/en/ds/MAX3483E-MAX3491E.pdf)
      (footprints
        (fp DIP8*))
      (fields
        (field (name Reference) IC)
        (field (name Value) MAX485/3485)
        (field (name Footprint) DIP8))
      (pins
        (pin (num 1) (name RO) (type output))
        (pin (num 2) (name RE) (type input))
        (pin (num 3) (name DE) (type input))
        (pin (num 4) (name DI) (type input))
        (pin (num 5) (name GND) (type power_in))
        (pin (num 6) (name A) (type BiDi))
        (pin (num 7) (name B) (type BiDi))
        (pin (num 8) (name Vcc) (type power_in))))
    (libpart (lib regul) (part NCP1117ST50T3G)
      (aliases
        (alias NCP1117ST12T3G)
        (alias NCP1117ST15T3G)
        (alias NCP1117ST18T3G)
        (alias NCP1117ST20T3G)
        (alias NCP1117ST25T3G)
        (alias NCP1117ST285T3G)
        (alias NCP1117ST33T3G))
      (description "NCP1117ST50T3G, 1A Low drop-out regulator, Fixed Output 5V, SOT223")
      (docs http://www.onsemi.com/pub_link/Collateral/NCP1117-D.PDF)
      (footprints
        (fp SOT223))
      (fields
        (field (name Reference) U)
        (field (name Value) NCP1117ST50T3G))
      (pins
        (pin (num 1) (name GND) (type power_in))
        (pin (num 2) (name VO) (type power_out))
        (pin (num 3) (name VI) (type power_in))))
    (libpart (lib device) (part R)
      (description Resistance)
      (footprints
        (fp R?)
        (fp SM0603)
        (fp SM0805)
        (fp R?-*)
        (fp SM1206))
      (fields
        (field (name Reference) R)
        (field (name Value) R))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive)))))
  (libraries
    (library (logical conn)
      (uri "/Users/ieb/Library/Application Support/kicad/library/conn.lib"))
    (library (logical regul)
      (uri "/Users/ieb/Library/Application Support/kicad/library/regul.lib"))
    (library (logical device)
      (uri "/Users/ieb/Library/Application Support/kicad/library/device.lib"))
    (library (logical interface)
      (uri "/Users/ieb/Library/Application Support/kicad/library/interface.lib"))
    (library (logical atmel)
      (uri "/Users/ieb/Library/Application Support/kicad/library/atmel.lib")))
  (nets
    (net (code 1) (name GND)
      (node (ref U102) (pin 2))
      (node (ref IC102) (pin 5))
      (node (ref IC101) (pin 14))
      (node (ref P107) (pin 1))
      (node (ref P102) (pin 2))
      (node (ref P103) (pin 2))
      (node (ref U101) (pin 1))
      (node (ref C101) (pin 2))
      (node (ref P101) (pin 5))
      (node (ref P104) (pin 2))
      (node (ref C103) (pin 2))
      (node (ref P101) (pin 1))
      (node (ref C102) (pin 1)))
    (net (code 2) (name VIn)
      (node (ref P101) (pin 2))
      (node (ref U101) (pin 3))
      (node (ref C101) (pin 1)))
    (net (code 3) (name RS485-B)
      (node (ref P101) (pin 3))
      (node (ref IC102) (pin 7)))
    (net (code 4) (name RS485-A)
      (node (ref P101) (pin 4))
      (node (ref IC102) (pin 6)))
    (net (code 5) (name TEMP1)
      (node (ref R102) (pin 2))
      (node (ref IC101) (pin 3))
      (node (ref P102) (pin 1)))
    (net (code 6) (name "Net-(IC101-Pad5)")
      (node (ref IC101) (pin 5)))
    (net (code 7) (name 5V)
      (node (ref IC102) (pin 8))
      (node (ref U102) (pin 1))
      (node (ref IC101) (pin 1))
      (node (ref R102) (pin 1))
      (node (ref R103) (pin 1))
      (node (ref C102) (pin 2))
      (node (ref C103) (pin 1))
      (node (ref P104) (pin 1))
      (node (ref U101) (pin 2)))
    (net (code 8) (name RX)
      (node (ref P104) (pin 3))
      (node (ref IC101) (pin 12)))
    (net (code 9) (name TX)
      (node (ref P104) (pin 4))
      (node (ref IC101) (pin 11)))
    (net (code 10) (name UDPI)
      (node (ref P104) (pin 5))
      (node (ref R101) (pin 1)))
    (net (code 11) (name "Net-(IC101-Pad10)")
      (node (ref IC101) (pin 10))
      (node (ref R101) (pin 2)))
    (net (code 12) (name IN+)
      (node (ref U102) (pin 6))
      (node (ref P105) (pin 1)))
    (net (code 13) (name IN-)
      (node (ref U102) (pin 5))
      (node (ref P106) (pin 1)))
    (net (code 14) (name TEMP2)
      (node (ref P103) (pin 1))
      (node (ref R103) (pin 2))
      (node (ref IC101) (pin 4)))
    (net (code 15) (name RS-RX)
      (node (ref IC101) (pin 6))
      (node (ref IC102) (pin 1)))
    (net (code 16) (name RS-TX)
      (node (ref IC102) (pin 4))
      (node (ref IC101) (pin 7)))
    (net (code 17) (name SDA)
      (node (ref IC101) (pin 8))
      (node (ref U102) (pin 4)))
    (net (code 18) (name SCL)
      (node (ref U102) (pin 3))
      (node (ref IC101) (pin 9)))
    (net (code 19) (name "Net-(IC101-Pad13)")
      (node (ref IC101) (pin 13)))
    (net (code 20) (name RS-DIR)
      (node (ref IC102) (pin 2))
      (node (ref IC102) (pin 3))
      (node (ref IC101) (pin 2)))))